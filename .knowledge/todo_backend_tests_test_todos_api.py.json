{"is_source_file": true, "format": "Python", "description": "This file contains unit tests for a FastAPI-based todo application, testing endpoints, validation, and functionality related to CRUD operations, filtering, pagination, and error handling.", "external_files": ["src.api.main"], "external_methods": ["fastapi.testclient.TestClient", "os.environ.setdefault"], "published": [], "classes": [{"name": "TestHealth", "description": "Contains a test to verify the application's health check endpoint responds correctly."}, {"name": "TestTodosCRUD", "description": "Encapsulates tests for creating, retrieving, updating, patching, and deleting todo items, including edge cases like not found errors."}, {"name": "TestListPaginationFilteringSorting", "description": "Includes tests for listing todos with pagination, filtering by completion status, search queries, sorting, and order."}, {"name": "TestValidationErrors", "description": "Tests to ensure validation errors are raised appropriately for invalid input data."}], "methods": [{"name": "create_todo_payload( title=\"Test Task\", description=\"Do something\", completed=False, due_date=None, )", "description": "Helper function to construct payload dictionaries for creating todos with optional due_date.", "scope": "", "scopeKind": ""}, {"name": "assert_todo_shape(todo: dict)", "description": "Validates the structure and data types of a todo dictionary.", "scope": "", "scopeKind": ""}, {"name": "seed_todos(self, count=10)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class", "description": "unavailable"}, {"name": "test_create_todo_minimal(self)", "scope": "TestTodosCRUD", "scopeKind": "class", "description": "unavailable"}, {"name": "test_create_todo_with_due_date_date_string(self)", "scope": "TestTodosCRUD", "scopeKind": "class", "description": "unavailable"}, {"name": "test_create_validation_error_title_empty(self)", "scope": "TestValidationErrors", "scopeKind": "class", "description": "unavailable"}, {"name": "test_delete_todo(self)", "scope": "TestTodosCRUD", "scopeKind": "class", "description": "unavailable"}, {"name": "test_get_todo_and_not_found(self)", "scope": "TestTodosCRUD", "scopeKind": "class", "description": "unavailable"}, {"name": "test_health_check(self)", "scope": "TestHealth", "scopeKind": "class", "description": "unavailable"}, {"name": "test_list_basic_pagination(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class", "description": "unavailable"}, {"name": "test_list_filter_completed_true_false(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class", "description": "unavailable"}, {"name": "test_list_invalid_order_param(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class", "description": "unavailable"}, {"name": "test_list_search_q_matches_title_and_description(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class", "description": "unavailable"}, {"name": "test_list_sort_and_order(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class", "description": "unavailable"}, {"name": "test_patch_partial_update(self)", "scope": "TestTodosCRUD", "scopeKind": "class", "description": "unavailable"}, {"name": "test_patch_validation_error_bad_due_date(self)", "scope": "TestValidationErrors", "scopeKind": "class", "description": "unavailable"}, {"name": "test_put_replace_todo(self)", "scope": "TestTodosCRUD", "scopeKind": "class", "description": "unavailable"}], "calls": ["client.get", "client.post", "client.put", "client.patch", "client.delete", "datetime.fromisoformat", "os.environ.setdefault"], "search-terms": ["test_todos_api", "FastAPI", "unit test", "todos", "CRUD", "filter", "pagination", "validation", "error handling"], "state": 2, "file_id": 15, "knowledge_revision": 51, "git_revision": "6160b61c14d3676379a1cbaa571e857ccb9b9117", "revision_history": [{"39": ""}, {"40": "6160b61c14d3676379a1cbaa571e857ccb9b9117"}, {"49": "6160b61c14d3676379a1cbaa571e857ccb9b9117"}, {"50": "6160b61c14d3676379a1cbaa571e857ccb9b9117"}, {"51": "6160b61c14d3676379a1cbaa571e857ccb9b9117"}], "ctags": [{"_type": "tag", "name": "TestHealth", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^class TestHealth:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestListPaginationFilteringSorting", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^class TestListPaginationFilteringSorting:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestTodosCRUD", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^class TestTodosCRUD:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestValidationErrors", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^class TestValidationErrors:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "assert_todo_shape", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^def assert_todo_shape(todo: dict):$/", "language": "Python", "kind": "function", "signature": "(todo: dict)"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^client = TestClient(app)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create_todo_payload", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^def create_todo_payload($/", "language": "Python", "kind": "function", "signature": "( title=\"Test Task\", description=\"Do something\", completed=False, due_date=None, )"}, {"_type": "tag", "name": "seed_todos", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def seed_todos(self, count=10):$/", "language": "Python", "kind": "member", "signature": "(self, count=10)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class"}, {"_type": "tag", "name": "test_create_todo_minimal", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_create_todo_minimal(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTodosCRUD", "scopeKind": "class"}, {"_type": "tag", "name": "test_create_todo_with_due_date_date_string", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_create_todo_with_due_date_date_string(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTodosCRUD", "scopeKind": "class"}, {"_type": "tag", "name": "test_create_validation_error_title_empty", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_create_validation_error_title_empty(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestValidationErrors", "scopeKind": "class"}, {"_type": "tag", "name": "test_delete_todo", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_delete_todo(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTodosCRUD", "scopeKind": "class"}, {"_type": "tag", "name": "test_get_todo_and_not_found", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_get_todo_and_not_found(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTodosCRUD", "scopeKind": "class"}, {"_type": "tag", "name": "test_health_check", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_health_check(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestHealth", "scopeKind": "class"}, {"_type": "tag", "name": "test_list_basic_pagination", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_list_basic_pagination(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class"}, {"_type": "tag", "name": "test_list_filter_completed_true_false", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_list_filter_completed_true_false(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class"}, {"_type": "tag", "name": "test_list_invalid_order_param", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_list_invalid_order_param(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class"}, {"_type": "tag", "name": "test_list_search_q_matches_title_and_description", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_list_search_q_matches_title_and_description(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class"}, {"_type": "tag", "name": "test_list_sort_and_order", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_list_sort_and_order(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class"}, {"_type": "tag", "name": "test_patch_partial_update", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_patch_partial_update(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTodosCRUD", "scopeKind": "class"}, {"_type": "tag", "name": "test_patch_validation_error_bad_due_date", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_patch_validation_error_bad_due_date(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestValidationErrors", "scopeKind": "class"}, {"_type": "tag", "name": "test_put_replace_todo", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_put_replace_todo(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTodosCRUD", "scopeKind": "class"}], "hash": "027083deefaebf6aaca0efb2c91c269c", "format-version": 4, "code-base-name": "todo_backend", "filename": "todo_backend/tests/test_todos_api.py", "fields": [{"name": "client = TestClient(app)", "scope": "", "scopeKind": "", "description": "unavailable"}]}