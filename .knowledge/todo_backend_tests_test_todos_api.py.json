{"is_source_file": true, "format": "Python (pytest + FastAPI test code)", "description": "This file contains automated test cases for a FastAPI-based Todo API backend. It tests health checks, CRUD operations, pagination, filtering, sorting, validation errors, and search functionality using pytest and FastAPI's TestClient.", "external_files": ["src/api/main.py"], "external_methods": ["fastapi.testclient.TestClient", "os.environ.setdefault", "datetime.fromisoformat"], "published": [], "classes": [{"name": "TestHealth", "description": "Test suite for health endpoint"}, {"name": "TestTodosCRUD", "description": "Test suite for CRUD operations on todos"}, {"name": "TestListPaginationFilteringSorting", "description": "Test suite for listing, filtering, sorting, and pagination of todos"}, {"name": "TestValidationErrors", "description": "Test suite for validation error handling"}], "methods": [{"name": "create_todo_payload( title=\"Test Task\", description=\"Do something\", completed=False, due_date=None, )", "description": "Helper function to create a todo payload with default or specified values", "scope": "", "scopeKind": ""}, {"name": "assert_todo_shape(todo: dict)", "description": "Helper function to validate the structure and types of a todo item", "scope": "", "scopeKind": ""}, {"name": "seed_todos(self, count=10)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class", "description": "unavailable"}, {"name": "test_create_todo_minimal(self)", "scope": "TestTodosCRUD", "scopeKind": "class", "description": "unavailable"}, {"name": "test_create_todo_with_due_date_date_string(self)", "scope": "TestTodosCRUD", "scopeKind": "class", "description": "unavailable"}, {"name": "test_create_validation_error_title_empty(self)", "scope": "TestValidationErrors", "scopeKind": "class", "description": "unavailable"}, {"name": "test_delete_todo(self)", "scope": "TestTodosCRUD", "scopeKind": "class", "description": "unavailable"}, {"name": "test_get_todo_and_not_found(self)", "scope": "TestTodosCRUD", "scopeKind": "class", "description": "unavailable"}, {"name": "test_health_check(self)", "scope": "TestHealth", "scopeKind": "class", "description": "unavailable"}, {"name": "test_list_basic_pagination(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class", "description": "unavailable"}, {"name": "test_list_filter_completed_true_false(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class", "description": "unavailable"}, {"name": "test_list_invalid_order_param(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class", "description": "unavailable"}, {"name": "test_list_search_q_matches_title_and_description(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class", "description": "unavailable"}, {"name": "test_list_sort_and_order(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class", "description": "unavailable"}, {"name": "test_patch_partial_update(self)", "scope": "TestTodosCRUD", "scopeKind": "class", "description": "unavailable"}, {"name": "test_patch_validation_error_bad_due_date(self)", "scope": "TestValidationErrors", "scopeKind": "class", "description": "unavailable"}, {"name": "test_put_replace_todo(self)", "scope": "TestTodosCRUD", "scopeKind": "class", "description": "unavailable"}], "calls": ["client.get", "client.post", "client.put", "client.patch", "client.delete", "datetime.fromisoformat", "os.environ.setdefault"], "search-terms": ["test_todos_api.py", "FastAPI", "pytest", "CRUD", "pagination", "filtering", "sorting", "validation errors", "search"], "state": 2, "file_id": 15, "knowledge_revision": 39, "git_revision": "", "ctags": [{"_type": "tag", "name": "TestHealth", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^class TestHealth:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestListPaginationFilteringSorting", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^class TestListPaginationFilteringSorting:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestTodosCRUD", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^class TestTodosCRUD:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestValidationErrors", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^class TestValidationErrors:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "assert_todo_shape", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^def assert_todo_shape(todo: dict):$/", "language": "Python", "kind": "function", "signature": "(todo: dict)"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^client = TestClient(app)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create_todo_payload", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^def create_todo_payload($/", "language": "Python", "kind": "function", "signature": "( title=\"Test Task\", description=\"Do something\", completed=False, due_date=None, )"}, {"_type": "tag", "name": "seed_todos", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def seed_todos(self, count=10):$/", "language": "Python", "kind": "member", "signature": "(self, count=10)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class"}, {"_type": "tag", "name": "test_create_todo_minimal", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_create_todo_minimal(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTodosCRUD", "scopeKind": "class"}, {"_type": "tag", "name": "test_create_todo_with_due_date_date_string", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_create_todo_with_due_date_date_string(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTodosCRUD", "scopeKind": "class"}, {"_type": "tag", "name": "test_create_validation_error_title_empty", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_create_validation_error_title_empty(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestValidationErrors", "scopeKind": "class"}, {"_type": "tag", "name": "test_delete_todo", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_delete_todo(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTodosCRUD", "scopeKind": "class"}, {"_type": "tag", "name": "test_get_todo_and_not_found", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_get_todo_and_not_found(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTodosCRUD", "scopeKind": "class"}, {"_type": "tag", "name": "test_health_check", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_health_check(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestHealth", "scopeKind": "class"}, {"_type": "tag", "name": "test_list_basic_pagination", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_list_basic_pagination(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class"}, {"_type": "tag", "name": "test_list_filter_completed_true_false", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_list_filter_completed_true_false(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class"}, {"_type": "tag", "name": "test_list_invalid_order_param", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_list_invalid_order_param(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class"}, {"_type": "tag", "name": "test_list_search_q_matches_title_and_description", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_list_search_q_matches_title_and_description(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class"}, {"_type": "tag", "name": "test_list_sort_and_order", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_list_sort_and_order(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestListPaginationFilteringSorting", "scopeKind": "class"}, {"_type": "tag", "name": "test_patch_partial_update", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_patch_partial_update(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTodosCRUD", "scopeKind": "class"}, {"_type": "tag", "name": "test_patch_validation_error_bad_due_date", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_patch_validation_error_bad_due_date(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestValidationErrors", "scopeKind": "class"}, {"_type": "tag", "name": "test_put_replace_todo", "path": "/home/kavia/workspace/code-generation/simple-task-manager-223342-223351/todo_backend/tests/test_todos_api.py", "pattern": "/^    def test_put_replace_todo(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTodosCRUD", "scopeKind": "class"}], "hash": "d8765bf385b8d4ebbe33ff870829eed5", "format-version": 4, "code-base-name": "todo_backend", "filename": "todo_backend/tests/test_todos_api.py", "fields": [{"name": "client = TestClient(app)", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"39": ""}]}